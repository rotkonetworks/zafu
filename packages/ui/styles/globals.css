@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* zigner dark theme - zafu blue + zcash yellow, 90s volvo pragmatic */
    --background: 220 20% 7%;
    --foreground: 210 15% 85%;

    /* muted text - visible but subdued */
    --muted: 220 15% 14%;
    --muted-foreground: 210 10% 55%;

    /* popover/dropdown - slightly lighter than bg */
    --popover: 220 18% 10%;
    --popover-foreground: 210 15% 85%;

    /* card - subtle elevation */
    --card: 220 18% 9%;
    --card-foreground: 210 15% 85%;

    /* border - visible, pragmatic */
    --border: 220 12% 18%;
    --border-secondary: 220 12% 14%;
    --input: 220 18% 12%;

    /* primary - zcash yellow/gold */
    --primary: 45 95% 50%;
    --primary-foreground: 220 20% 7%;

    /* secondary - zafu blue */
    --secondary: 210 60% 45%;
    --secondary-foreground: 210 15% 95%;

    /* accent - zafu blue tint for hover states */
    --accent: 210 40% 18%;
    --accent-foreground: 210 15% 90%;

    /* status colors */
    --destructive: 0 65% 50%;
    --destructive-foreground: 0 0% 100%;

    --ring: 45 95% 50%;
    --radius: 0; /* no rounded corners - 90s pragmatic */

    /* brand colors */
    --zigner-gold: #f4b728; /* zcash yellow */
    --zigner-gold-light: #fcd34d;
    --zigner-gold-dark: #b8860b;
    --zafu-blue: #3b82f6; /* zafu cushion blue */
    --zafu-blue-light: #60a5fa;
    --zafu-blue-dark: #1d4ed8;
    --zigner-dark: #0f1419;
    --zigner-darker: #0a0d10;

    /* semantic colors */
    --success: #22c55e;
    --warning: #f4b728;
    --error: #dc2626;
    --info: #3b82f6;

    /* legacy compat */
    --charcoal: #0f1419;
    --charcoal-secondary: #0a0d10;
    --teal: #629994;
    --sand: #847a5b;
    --rust: #8d5728;
    --green: #22c55e;
    --red: #dc2626;
    --light-brown: #1e2328;
    --light-grey: #d1d5db;
    --brown: rgba(15, 20, 25, 0.8);
  }

  /* ensure full height for side panel and popup */
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
  }

  /* popup container */
  #popup-root {
    min-width: 400px;
    min-height: 600px;
    height: 100vh;
    max-height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: hsl(var(--background));
  }

  /* scrollbar - minimal */
  ::-webkit-scrollbar {
    width: 3px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    background: hsl(var(--border));
  }
  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground));
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif;
    font-size: 13px;
    line-height: 1.5;
    letter-spacing: -0.01em;
  }

  /* ensure text is always visible */
  h1, h2, h3, h4, h5, h6 {
    @apply text-foreground font-medium;
  }

  p {
    @apply text-foreground;
  }

  a {
    @apply text-secondary hover:text-secondary/80 transition-colors duration-75;
  }

  /* form elements - sharp, no radius */
  input, textarea, select {
    @apply bg-input text-foreground placeholder:text-muted-foreground rounded-none;
  }

  /* buttons - no radius, pragmatic */
  button {
    @apply rounded-none;
  }

  /* code/mono */
  code, pre {
    font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
    @apply text-foreground;
  }

  /* custom fonts - fallback to system */
  @font-face {
    font-family: 'Inter';
    font-weight: 400;
    src: local('Inter'), local('Inter-Regular');
  }
  @font-face {
    font-family: 'Inter';
    font-weight: 500;
    src: local('Inter Medium'), local('Inter-Medium');
  }
  @font-face {
    font-family: 'Inter';
    font-weight: 600;
    src: local('Inter SemiBold'), local('Inter-SemiBold');
  }
  @font-face {
    font-family: 'Iosevka Term';
    font-weight: 400;
    src: url('../fonts/iosevka-term-ss03-regular.woff2') format('woff2');
  }
  @font-face {
    font-family: 'Iosevka Term';
    font-style: italic;
    font-weight: 400;
    src: url('../fonts/iosevka-term-ss03-italic.woff2') format('woff2');
  }
}

@layer utilities {
  /* text contrast helpers */
  .text-high-contrast {
    @apply text-foreground;
  }
  .text-medium-contrast {
    @apply text-muted-foreground;
  }
  .text-low-contrast {
    @apply text-muted-foreground/60;
  }

  /* brand utilities */
  .text-zigner-gold {
    color: var(--zigner-gold);
  }
  .bg-zigner-gold {
    background-color: var(--zigner-gold);
  }
  .border-zigner-gold {
    border-color: var(--zigner-gold);
  }
  .text-zafu-blue {
    color: var(--zafu-blue);
  }
  .bg-zafu-blue {
    background-color: var(--zafu-blue);
  }
  .border-zafu-blue {
    border-color: var(--zafu-blue);
  }

  /* gradient backgrounds */
  .bg-card-gradient {
    background: linear-gradient(
      135deg,
      hsl(var(--card)) 0%,
      hsl(var(--card) / 0.9) 100%
    );
  }

  /* focus ring - pragmatic */
  .focus-ring {
    @apply outline-none ring-1 ring-primary ring-offset-1 ring-offset-background;
  }

  /* 90s volvo pragmatic - sharp edges everywhere */
  .sharp {
    @apply rounded-none;
  }
}
